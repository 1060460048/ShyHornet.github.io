<!DOCTYPE html>
<html lang="en">




  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jekyll初探</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Do not go gentle into that good night...">
    <link rel="canonical" href="http://ShyHornet.github.io/2015/10/18/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/pygments.css">
    <link href="/css/font.css" rel="stylesheet"  charset="utf-8">
    <!-- Custom JS -->
    <script type="text/javascript" src="/js/jquery-2.1.4.min.js" >
    </script>
    <script type="text/javascript" src="/js/common.js" >
    </script>
    <script src="/js/jCorner.min.js" type="text/javascript">
    </script>

</head>


    <body>
        <div id="music-panel">
    <a id="music-control" href="javascript:;" onclick="toggleMusicPanel()"></a>
    <div id="music-content">
        <iframe  frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="http://music.163.com/outchain/player?type=0&id=116145968&auto=0&height=430"></iframe>
    </div>
</div>

    </div>

      <div id="content-div">
          <div class="rotLeft rotTop pageBack"></div>
          <div class="rotRight rotTop pageBack"></div>

          <div class="container page">

            <div class="header">
    <div class="pageTitle center">
        <a style="color: #000;" href="/">codeGlider's blog</a>
    </div>
    <p class="sub-title">
        Do not go gentle into that good night...
    </p>

    <div class="menu">
        <ul class="navlist">
            
            <li>
                <a class="page-link" href="/">主页</a>
            </li>
            
            <li>
                <a class="page-link" href="/about">关于</a>
            </li>
            
            <li>
                <a class="page-link" href="http://www.jianshu.com/users/3007ce57abd3/latest_articles">简书</a>
            </li>
            
            <li>
                <a class="page-link" href="http://github.com/ShyHornet">源码</a>
            </li>
            
            <li>
                <a class="page-link" href="/feed.xml">订阅</a>
            </li>
            
        </ul>
    </div>
    <p >我是一个iOS自由开发者，本站的开发纯属是个人兴趣，会发布一些iOS的技术分享和前端的学习分享，本站使用<Strong><a href="https://pages.github.com">github-pages</a></Strong>和<Strong><a href="http://jekyllrb.com">Jekyll</a></Strong>,源码在github上,欢迎大家点星星哈~ <iframe style="margin-top:10px;" src="https://ghbtns.com/github-btn.html?user=ShyHornet&repo=ShyHornet.github.io&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe></center></p>
  
</div>


            <div class="post">
  <script type="text/javascript">
  (function() {
    $('blockquote').wrap(document.getElementsByTagName('paper'));
  })();
    (function() {

      $('#paper').jCorner();
    })();
    </script>
  <header class="post-header">
    <h1>Jekyll初探</h1>
  </header>

  

  <a class="tag">front-end</a>
  

  <a class="tag">html</a>
  

  <a class="tag">css</a>
  

  <a class="tag">javascript</a>
  

  <a class="tag">Jquery</a>
  

  <a class="tag">Jekyll</a>
  
  <p class="meta">18 Oct 2015</p>

  <article class="post-content">
  <p>受到<a href="http://www.jianshu.com/p/4fd3cb0a11da">野子Joey的文章</a>的启发，我也开始研究<strong>Jekyll</strong>了!<br>
在研究过程中遇到了不少问题，但是在折腾的过程中也锻炼了前端开发能力，而且看着自己的博客一点一点成型，最后运行在<strong>github</strong>上，确实很有成就感!。<br>
目前初步建立了自己的<strong>Jekyll</strong>博客,研究了好几天Jkeyll如何运作以及如何进行各种个性化设置。</p>

<h1 id="首先是安装">首先是安装</h1>

<p>这一步很简单,只需在终端输入:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo gem install jekyll
</code></pre></div>
<p>创建一个简单的博客并运行:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jekyll new helloJekyll
<span class="nv">$ </span><span class="nb">cd </span>helloJkeyll
<span class="nv">$ </span>jekyll serve
</code></pre></div>
<blockquote>
<p>serve 还可以加上参数 -w 这样修改网站后可以自动更改，刷新后反映到浏览器中</p>
</blockquote>

<p>在浏览器中输入<strong>localhost:4000</strong>即可观看效果:</p>

<p><img src="https://raw.githubusercontent.com/ShyHornet/ShyHornet.github.io/master/images/post/2015-10-15-1.png" alt="初始网站"></p>

<blockquote>
<p>关于如何建立<code class="prettyprint">github</code>的网站，可以参照我开头提到的<a href="http://www.jianshu.com/p/4fd3cb0a11da">文章</a></p>
</blockquote>

<p>我们来看一眼基本的Jekyll的一般目录结构:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">.
├── _config.yml
├── _drafts
<span class="p">|</span>   ├── begin-with-the-crazy-ideas.textile
<span class="p">|</span>   └── on-simplicity-in-technology.markdown
├── _includes
<span class="p">|</span>   ├── footer.html
<span class="p">|</span>   └── header.html
├── _layouts
<span class="p">|</span>   ├── default.html
<span class="p">|</span>   └── post.html
├── _posts
<span class="p">|</span>   ├── 2007-10-29-why-every-programmer-should-play-nethack.textile
<span class="p">|</span>   └── 2009-04-26-barcamp-boston-4-roundup.textile
├── css
<span class="p">|</span>── images
├── _site
└── index.html
</code></pre></div>
<ul>
<li><strong>_config.yml</strong>用来保存一些配置数据;</li>
<li><strong>_drafts</strong>目录用来存储草稿，与已经发布的文章不同，这是没有日期的文章，在运行<code class="prettyprint">jekyll serve</code>会自动赋予当前日期。已经发布的文章在<strong>_posts</strong>目录下。</li>
<li><strong>_includes</strong>目录中包含的html文件可以作为模块来加载,比如加载<code class="prettyprint">footer.html</code>可以使用标签<code class="prettyprint">{</code><code class="prettyprint">%</code>  <code class="prettyprint">%</code><code class="prettyprint">}</code>将代码<code class="prettyprint">include footer.html</code>包裹其中来加载,这些代码被称作<a href="https://themes.shopify.com">Liquid</a>代码，在Jekyll中大量使用这种语法</li>
<li>正如上面所说<strong>_posts</strong>中放的是发布的文章，不过格式一定要符合<code class="prettyprint">年-月-日-标题.md</code>否则会有错误。</li>
<li><strong>_layouts</strong>这里存放文章的模板,<strong>default.html</strong>是整个网站的框架，<strong>post.html</strong>则是单个文章的模板。
剩下两个就很好理解，整个网页的css样式表，和图片资源，如果需要，你还可以加上js文件夹等等，无论你加上多少文件夹，到最后Jekyll都会自动对他们进行转换，最后生成完整的网站到<strong>_site</strong>文件夹中。</li>
</ul>

<blockquote>
<p>所以在修改网站内容的时候，不要去修改<strong>_site</strong>文件夹里的内容，否则一旦网站运行起来，Jekyll会更新<strong>_site</strong>文件夹，修改会被重置。</p>
</blockquote>

<h1 id="关于配置文件">关于配置文件</h1>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Site settings</span>
title: <span class="s2">&quot;codeGlider&#39;s blog&quot;</span>
description: <span class="s2">&quot;Do not go gentle into that good night...&quot;</span>
baseurl: <span class="s2">&quot;&quot;</span>
url: <span class="s2">&quot;http://ShyHornet.github.io&quot;</span>

<span class="c"># Build settings</span>
markdown: redcarpet
permalink: pretty
highlighter: pygments
paginate: 3

<span class="c"># Links</span>
links:
  - title: <span class="s2">&quot;Home&quot;</span>
    url: /
  - title: <span class="s2">&quot;About&quot;</span>
    url: /about
  - title: <span class="s2">&quot;简书&quot;</span>
    url: http://www.jianshu.com/users/3007ce57abd3/latest_articles
  - title: <span class="s2">&quot;github&quot;</span>
    url: http://github.com/ShyHornet
  - title: <span class="s2">&quot;订阅&quot;</span>
    url: /feed.xml
</code></pre></div>
<p>这是我的配置文件，实际上这些都是可以自己定义的全局变量，然后你在网站的各个地方都可以使用上面所提到的<code class="prettyprint">Liquid</code>代码引用,所有该文件中定义的变量都可以使用<code class="prettyprint">site.#</code>的形式来引用。<br>
像下面这样:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;pageTitle center&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">style=</span><span class="s">&quot;color: #000;&quot;</span> <span class="na">href=</span><span class="s">&quot;`{``{` site.baseurl `}``}`/&quot;</span><span class="nt">&gt;</span>`{``{ site.title `}`}`<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;sub-title&quot;</span><span class="nt">&gt;</span>
    `{``{` site.description `}``}`
<span class="nt">&lt;/p&gt;</span>
</code></pre></div>
<blockquote>
<p>代码取自本站源码,<code class="prettyprint">{</code>都被我用``包了起来，否则就会渲染出这些变量的值了</p>
</blockquote>

<p>注意到<code class="prettyprint">Links</code>，个人理解相当于定义一个数组，数组元素是结构体，可以通过内嵌<code class="prettyprint">for</code>循环来得到他们的值:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">`{``%` for link in site.links `%``}`
<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;`{``{` link.url | prepend: site.baseurl `}``}`&quot;</span><span class="nt">&gt;</span>`{``{` link.title `}``}`<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>
`{``%` endfor `%``}`
</code></pre></div>
<p>渲染后:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>主页<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;/about&quot;</span><span class="nt">&gt;</span>关于<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;http://www.jianshu.com/users/3007ce57abd3/latest_articles&quot;</span><span class="nt">&gt;</span>简书<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;http://github.com/ShyHornet&quot;</span><span class="nt">&gt;</span>源码<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;page-link&quot;</span> <span class="na">href=</span><span class="s">&quot;/feed.xml&quot;</span><span class="nt">&gt;</span>订阅<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/li&gt;</span>
</code></pre></div>
<p>这其实就是网站的导航部分,<a href="https://raw.githubusercontent.com/ShyHornet/ShyHornet.github.io/master/_includes/header.html">源码地址</a>。</p>

<h1 id="关于写文章">关于写文章</h1>

<p>所有文章的markdown文件存储在<strong>_posts</strong>文件夹下，只要将要发布文章的文章拖入这个文件夹就可以了，刷新网页之后你的文章就会出现，如上面所述，文件名要符合<code class="prettyprint">年-月-日-标题.md</code>的格式。<br>
但是在写作的时候感觉到很不适应，因为其markdown语法和github，或简书上的markdown语法很不一样，比如代码高亮部分只能用以下形式:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">`{``%` highlight language `%``}`
your code....
`{``%` endhighlight `%``}`
</code></pre></div>
<p>这是因为<code class="prettyprint">Jekyll</code>使用的<code class="prettyprint">markdown</code>解析器不太一样，默认使用<code class="prettyprint">kramdown</code>作为<code class="prettyprint">markdown</code>解析器。不过可以改成我们需要的markdown解析器，在<strong>_config.yml</strong>文件中可以指定<code class="prettyprint">markdown</code>解析器</p>

<blockquote>
<p>在<code class="prettyprint">Jekyll</code>中，默认有三种<code class="prettyprint">markdown</code>解析器:kramdown,redcarpet,rdiscount。</p>
</blockquote>

<p>我发现redcarpet比较符合github和简书的<code class="prettyprint">markdown</code>语法，在<strong>_config.yml</strong>文件中将</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">markdown:kramdown
</code></pre></div>
<p>改为</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">markdown:redcarpet
</code></pre></div>
<p>工作还不算完，因为<code class="prettyprint">redcarpet</code>的<code class="prettyprint">markdown</code>格式还是有一些地方与<code class="prettyprint">github</code>风格的<code class="prettyprint">markdown</code>不相符,那么如何解决呢？别急，<code class="prettyprint">Jekyll</code>已经为我们想到了:<br>
可以为<code class="prettyprint">redcarpet</code>增加一些扩展,具体的扩展列表在<code class="prettyprint">redcarpet</code>的<a href="https://github.com/vmg/redcarpet/blob/v2.2.2/README.markdown#and-its-like-really-simple-to-use">官方文档</a>中。<br>
在配置文件中增加如下代码:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">redcarpet:
    extensions: [ &quot;hard_wrap&quot;,&quot;autolink&quot;, &quot;tables&quot;, &quot;strikethrough&quot;, &quot;superscript&quot;, &quot;with_toc_data&quot;, &quot;highlight&quot;, &quot;prettify&quot;,&quot;no_intra_emphasis&quot;]
</code></pre></div>
<p>现在，<code class="prettyprint">Jekyll</code>的<code class="prettyprint">markdown</code>格式就基本和<code class="prettyprint">github</code>和<code class="prettyprint">简书</code>中的<code class="prettyprint">markdown</code>格式相同了！</p>

<h1 id="代码高亮自定义">代码高亮自定义</h1>

<p>代码高亮部分也是可以自定义，本网站使用的是<code class="prettyprint">pygments</code>作为代码高亮器,其实这和github上使用的代码高亮器是相同的，它的风格可以选择，不过因为它是<code class="prettyprint">python</code>编写的，需要用<code class="prettyprint">python</code>的管理工具<code class="prettyprint">pip</code>进行安装。<br>
以Mac(OSX10.11)为例，虽然本身自带<code class="prettyprint">python</code>，但是并没有安装<code class="prettyprint">pip</code>，所以要去手动下载安装:<br>
<a href="https://pypi.python.org/packages/source/p/pip/pip-7.1.2.tar.gz#md5=3823d2343d9f3aaab21cf9c917710196">下载地址</a><br>
下载后直接解压缩,打开终端将当前目录切换到解压缩后的文件夹中,然后输入:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>python setup.py install
</code></pre></div>
<p>输入<code class="prettyprint">pip</code>看看有没有反应,如果显示出<code class="prettyprint">pip</code>命令的帮助就说明安装成功。<br>
然后输入:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>pip install pygments
</code></pre></div>
<p>自定义代码高亮风格很简单，在css文件夹中建立一个新的css文件<code class="prettyprint">pygments.css</code>，用来放置代码高亮样式。<br>
然后用以下命令生成<code class="prettyprint">pygments</code>的<code class="prettyprint">css</code>样式表:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span> pygmentize -S default -f html &gt; your/path/pygments.css
</code></pre></div>
<p>这样是将默认风格的代码高亮风格注入到了我们新建的css文件中，这里也可以指定其他自带代码高亮样式.<br>
所有自带代码样式的列表可以通过输入<code class="prettyprint">python</code>命令得到:<br>
首先输入<code class="prettyprint">python</code>进入<code class="prettyprint">python</code>命令行模式:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>python
</code></pre></div>
<p>然后打印所有代码风格:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt;&gt;&gt; from pygments.styles import STYLE_MAP
&gt;&gt;&gt; STYLE_MAP.keys<span class="o">()</span>
<span class="o">[</span><span class="s1">&#39;manni&#39;</span>, <span class="s1">&#39;igor&#39;</span>, <span class="s1">&#39;xcode&#39;</span>, <span class="s1">&#39;vim&#39;</span>, <span class="s1">&#39;autumn&#39;</span>, <span class="s1">&#39;vs&#39;</span>, <span class="s1">&#39;rrt&#39;</span>, <span class="s1">&#39;native&#39;</span>, <span class="s1">&#39;perldoc&#39;</span>, <span class="s1">&#39;borland&#39;</span>, <span class="s1">&#39;tango&#39;</span>, <span class="s1">&#39;emacs&#39;</span>, <span class="s1">&#39;friendly&#39;</span>, <span class="s1">&#39;monokai&#39;</span>, <span class="s1">&#39;paraiso-dark&#39;</span>, <span class="s1">&#39;colorful&#39;</span>, <span class="s1">&#39;murphy&#39;</span>, <span class="s1">&#39;bw&#39;</span>, <span class="s1">&#39;pastie&#39;</span>, <span class="s1">&#39;paraiso-light&#39;</span>, <span class="s1">&#39;trac&#39;</span>, <span class="s1">&#39;default&#39;</span>, <span class="s1">&#39;fruity&#39;</span><span class="o">]</span>
</code></pre></div>
<p>可以用其中任何一个名称代替上面代码中的<code class="prettyprint">default</code>。</p>

<p>比如<code class="prettyprint">xcode</code>风格:</p>

<p><img src="http://upload-images.jianshu.io/upload_images/727794-4e9bc86b2bdbad72.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2015-10-22 下午12.34.26.png"><br>
<code class="prettyprint">borland</code>风格:</p>

<p><img src="http://upload-images.jianshu.io/upload_images/727794-f1400d2fa0a9928c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2015-10-22 下午12.33.32.png"><br>
<code class="prettyprint">colorful</code>风格:</p>

<p><img src="http://upload-images.jianshu.io/upload_images/727794-39b70dcd80744899.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2015-10-22 下午12.51.42.png"></p>

  </article>
  <!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/2015/10/18/第一篇文章" data-title="Jekyll初探" data-url="http://ShyHornet.github.io/2015/10/18/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"codeglider"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

</div>


            <footer class="site-footer">
<a href="https://ShyHornet.github.io">A blog </a>written  by <a href="http://www.jianshu.com/users/3007ce57abd3/latest_articles">codeGlider</a>

</footer>
<img class="pen" src="/images/pen.png" src-data="/images/pen.png"/>



          </div>
          <div class="rotLeft rotBottom pageBack"></div>
          <div class="rotRight rotBottom pageBack"></div>
    </div>
    </body>

</html>
